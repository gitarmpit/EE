let precision=3,tc_default_Zo=50,Vc=3*Math.pow(10,8),GThr=0,MThr=0,kThr=0,baseThr=0,mThr=0,uThr=0,nThr=0,pThr=0,fThr=0,currentFormId=null,deviceHeight=0;function setLgHeight2(){var e,t;isNarrowScreen()&&null==currentFormId&&(e=document.getElementById("lg"),t=window.innerHeight-e.offsetTop-50,e.style.height=t+"px")}function setLgHeight(){var e=document.getElementById("lg"),t=window.innerHeight-e.offsetTop-20;e.style.height=t+"px",document.getElementById("list-container").style.height=window.innerHeight-20+"px",document.getElementById("right-container").style.height=window.innerHeight-20+"px"}function init(){currentFormId=null,setLgHeight(),window.addEventListener("resize",()=>{setLgHeight()}),deviceHeight=window.innerHeight,GThr=set_threshold(1e12),MThr=set_threshold(1e9),kThr=set_threshold(1e6),baseThr=set_threshold(1e3),mThr=set_threshold(1),uThr=set_threshold(.001),nThr=set_threshold(1e-6),pThr=set_threshold(1e-9),fThr=set_threshold(1e-12),window.addEventListener("orientationchange",()=>{window.innerWidth<500?window.document.body.style.display="none":window.document.body.style.display=""});let e=document.getElementById("form-ohm");e.onkeydown=function(e){13==e.keyCode?ohms_law():27==e.keyCode&&ohms_law_clear()},(e=document.getElementById("form-Xl")).onkeydown=function(e){13==e.keyCode?calc_Xl():27==e.keyCode&&Xl_clear()},(e=document.getElementById("form-Xc")).onkeydown=function(e){13==e.keyCode?calc_Xc():27==e.keyCode&&Xc_clear()},(e=document.getElementById("form-RC")).onkeydown=function(e){13==e.keyCode?calc_cutoff_freq():27==e.keyCode&&RC_clear()},(e=document.getElementById("form-tf")).onkeydown=function(e){13==e.keyCode?time_freq_conv():27==e.keyCode&&tf_clear()},(e=document.getElementById("form-fw")).onkeydown=function(e){13==e.keyCode?freq_wl_conv():27==e.keyCode&&fw_clear()},(e=document.getElementById("form-RLC")).onkeydown=function(e){13==e.keyCode?rlc_calc():27==e.keyCode&&rlc_clear()},(e=document.getElementById("form-dbm")).onkeydown=function(e){13==e.keyCode?dbm_calc():27==e.keyCode&&dbm_clear()},e=document.getElementById("form-ripple"),document.getElementById("form-ripple-f").value="60",e.onkeydown=function(e){13==e.keyCode?ripple_calc():27==e.keyCode&&ripple_clear()},(e=document.getElementById("form-headphone")).onkeydown=function(e){13==e.keyCode?headphone_calc():27==e.keyCode&&headphone_clear()},(e=document.getElementById("form-sound")).onkeydown=function(e){13==e.keyCode?sound_calc(e.target.id):27==e.keyCode&&sound_clear()},e=document.getElementById("form-tl"),document.getElementById("form-tl-Zo").value=tc_default_Zo,e.onkeydown=function(e){13==e.keyCode?tl_calc(e.target.id):27==e.keyCode&&tl_clear()},(e=document.getElementById("form-vdiv")).onkeydown=function(e){13==e.keyCode?vdiv_calc():27==e.keyCode&&vdiv_clear()},isNarrowScreen()&&(document.getElementById("label-tl-C").textContent="C per u.l.:",document.getElementById("label-tl-L").textContent="L per u.l.:",document.getElementById("label-tl-VF").textContent="VF, %:",document.getElementById("label-dbmw").textContent="Sens. dB/mW:",document.getElementById("label-dbv").textContent="Sens. dB/V:",window.visualViewport.addEventListener("resize",()=>{window.innerHeight==deviceHeight&&window.scrollTo(0,0)}))}function ohms_law_clear(){document.getElementById("form-ohm-V").value="",document.getElementById("form-ohm-R").value="",document.getElementById("form-ohm-I").value="",document.getElementById("form-ohm-P").value=""}function Xl_clear(){document.getElementById("form-Xl-L").value="",document.getElementById("form-Xl-Xl").value="",document.getElementById("form-Xl-freq").value=""}function Xc_clear(){document.getElementById("form-Xc-C").value="",document.getElementById("form-Xc-Xc").value="",document.getElementById("form-Xc-freq").value=""}function RC_clear(){document.getElementById("form-RC-C").value="",document.getElementById("form-RC-R").value="",document.getElementById("form-RC-freq").value="",document.getElementById("form-RC-t").value=""}function tf_clear(){document.getElementById("form-tf-t").value="",document.getElementById("form-tf-f").value=""}function fw_clear(){document.getElementById("form-fw-wl").value="",document.getElementById("form-fw-f").value=""}function rlc_clear(){document.getElementById("form-RLC-R").value="",document.getElementById("form-RLC-L").value="",document.getElementById("form-RLC-C").value="",document.getElementById("form-RLC-freq").value="",document.getElementById("form-RLC-Qs").value="",document.getElementById("form-RLC-Qp").value=""}function dbm_clear(){document.getElementById("form-dbm-P").value="",document.getElementById("form-dbm-dbm").value="",document.getElementById("form-dbm-Vrms").value="",document.getElementById("form-dbm-Vpk").value="",document.getElementById("form-dbm-Vpp").value=""}function ripple_clear(){document.getElementById("form-ripple-f").value="60",document.getElementById("form-ripple-C").value="",document.getElementById("form-ripple-V").value="",document.getElementById("form-ripple-I").value=""}function headphone_clear(){document.getElementById("form-headphone-sensitivity-dbmw").value="",document.getElementById("form-headphone-sensitivity-dbv").value="",document.getElementById("form-headphone-R").value="",document.getElementById("form-headphone-P").value="",document.getElementById("form-headphone-V").value="",document.getElementById("form-headphone-I").value="",document.getElementById("form-headphone-loudness").value=""}function sound_clear(){document.getElementById("form-sound-db").value="",document.getElementById("form-sound-V").value="",document.getElementById("form-sound-P").value="",document.getElementById("form-sound-L").value=""}function tl_clear(){document.getElementById("form-tl-Zo").value=tc_default_Zo,document.getElementById("form-tl-C").value="",document.getElementById("form-tl-L").value="",document.getElementById("form-tl-t").value="",document.getElementById("form-tl-len").value="",document.getElementById("form-tl-VF").value=""}function vdiv_clear(){document.getElementById("form-vdiv-vin").value="",document.getElementById("form-vdiv-vout").value="",document.getElementById("form-vdiv-R1").value="",document.getElementById("form-vdiv-R2").value=""}function showForm(t,e){if(currentFormId=t,isNarrowScreen())document.getElementById("list-container").style.display="none",document.getElementById("form-container").style.display="block",document.getElementById("right-container").style.display="block",null==e&&(e=event.target.textContent),document.getElementById("form-title-p").textContent=e,window.scrollTo(0,0),document.body.style.overflow="hidden";else{document.getElementById("form-title-h3").textContent=event.target.textContent;let e=window.innerWidth-1100;200<(e=e<5?5:e)&&(e=200),document.getElementById(t).style.marginLeft=e+"px",document.getElementById(t).style.marginRight=e+"px"}document.querySelectorAll("form").forEach(function(e){e.id===t?e.style.display="grid":e.style.display="none"})}function goBack(){document.getElementById("list-container").style.display="block",document.getElementById("form-container").style.display="none",document.getElementById("right-container").style.display="none",document.body.style.overflow="",currentFormId=null}function getMaxWidth(){return getComputedStyle(document.documentElement).getPropertyValue("--max-width")}function isNarrowScreen(){return window.matchMedia("(max-width: 700px)").matches}function reportError(e){var t,o;console.log(currentFormId),isNarrowScreen()?null!=(t=document.getElementById("form-container"))&&(t.classList.add("error-shadow"),setTimeout(function(){t.classList.remove("error-shadow")},50)):null!=currentFormId&&null!=(o=document.getElementById(currentFormId))&&(o.classList.add("error-shadow"),setTimeout(function(){o.classList.remove("error-shadow")},100))}function initKeyHandler(e){}function set_threshold(e){return e*(1-Math.pow(10,-(precision+1)))}function parse_float(e,t){if((null==t||!1===t)&&"-"==e.charAt(0))throw"Error parsing "+e;t=e.match(/^[0-9e\-+.]+$/);if(null==t||1!=t.length)throw"Error parsing "+e;return Number.parseFloat(t[0])}function parse_int(e){if("-"==e.charAt(0))throw"Error parsing "+e;var t=e.match(/^[0-9e]+$/);if(null==t||1!=t.length)throw"Error parsing "+e;return Number.parseInt(t[0])}function float_to_string(e,t){return null==t&&(t=precision),0==e?"0":1e-7<Math.abs(e)&&e<Math.abs(1e6)?.001<Math.abs(e)?strip_zeroes(e.toFixed(t)):strip_zeroes(e.toFixed(6)):e.toExponential(3)}function parse_value(e){if("-"==e.charAt(0))throw"Error parsing "+e;var t=(e=e.replace(/\s/g,"")).match(/^([0-9e\-+.]+)([A-Za-z]*)$/);if(null==t||3!=t.length)throw"Error parsing "+e;return[t[1],t[2]]}function strip_zeroes(e){return e.includes("e")?e:e.replace(/(-?\d*\.\d*?)0+$/,"$1").replace(/\.$/,"")}function str_to_L(e){var t=parse_value(e),o=t[0];let r=0;if("h"==t[1].toLowerCase()||""==t[1].toLowerCase()?r=1:"m"==t[1].toLowerCase()||"mh"==t[1].toLowerCase()?r=.001:"u"==t[1].toLowerCase()||"uh"==t[1].toLowerCase()?r=1e-6:"n"!=t[1].toLowerCase()&&"nh"!=t[1].toLowerCase()||(r=1e-9),0==r)throw"error parsing L: "+e;if(o*=r,isNaN(o)||!isFinite(o))throw"error parsing L: "+e;return o}function L_to_str(e){let t="H";if(0==e||!isFinite(e)||isNaN(e))throw"error parsing L: "+e;return e<pThr||e>baseThr?e.toExponential(precision)+"H":(e<nThr?(e*=1e9,t="nH"):e<uThr?(e*=1e6,t="uH"):e<mThr&&(e*=1e3,t="mH"),float_to_string(e,precision)+t)}function str_to_C(e){var t=parse_value(e),o=t[0];let r=0;if("f"==t[1].toLowerCase()||""==t[1].toLowerCase()?r=1:"m"==t[1].toLowerCase()||"mf"==t[1].toLowerCase()?r=.001:"u"==t[1].toLowerCase()||"uf"==t[1].toLowerCase()?r=1e-6:"n"==t[1].toLowerCase()||"nf"==t[1].toLowerCase()?r=1e-9:"p"!=t[1].toLowerCase()&&"pf"!=t[1].toLowerCase()||(r=1e-12),0==r)throw"error parsing C: "+e;if(o*=r,isNaN(o)||!isFinite(o))throw"error parsing C: "+e;return o}function C_to_str(e){let t="F";if(0==e||!isFinite(e)||isNaN(e))throw"error parsing C: "+e;return e<fThr||e>baseThr?e.toExponential(precision)+"F":(e<pThr?(e*=1e12,t="pF"):e<nThr?(e*=1e9,t="nF"):e<mThr&&(e*=1e6,t="uF"),float_to_string(e,precision)+t)}function str_to_freq(e){var t=parse_value(e),o=t[0];let r=0;if(""==t[1].toLowerCase()||"h"==t[1].toLowerCase()||"hz"==t[1].toLowerCase()?r=1:"k"==t[1].toLowerCase()||"kh"==t[1].toLowerCase()||"khz"==t[1].toLowerCase()?r=1e3:"m"==t[1].toLowerCase()||"mh"==t[1].toLowerCase()||"mhz"==t[1].toLowerCase()?r=1e6:"g"==t[1].toLowerCase()||"gh"==t[1].toLowerCase()||"ghz"==t[1].toLowerCase()?r=1e9:"t"!=t[1].toLowerCase()&&"th"!=t[1].toLowerCase()&&"thz"!=t[1].toLowerCase()||(r=1e12),0==r)throw"error parsing freq: "+e;if(o*=r,isNaN(o)||!isFinite(o))throw"error parsing f: "+e;return o}function freq_to_str(e){let t="Hz";if(0==e||!isFinite(e)||isNaN(e))throw"error parsing freq: "+e;return e<uThr||1e15<e?e.toExponential(precision)+"Hz":(t=e<baseThr?"Hz":e<kThr?(e/=1e3,"kHz"):e<MThr?(e/=1e6,"MHz"):e<GThr?(e/=1e9,"GHz"):(e/=1e12,"THz"),float_to_string(e,precision)+t)}function str_to_R(e){var t=parse_value(e),o=t[0];let r=0;if("r"==t[1].toLowerCase()||""==t[1]||"ohm"==t[1].toLowerCase()?r=1:"k"==t[1].toLowerCase()||"kohm"==t[1].toLowerCase()?r=1e3:"g"==t[1].toLowerCase()||"gohm"==t[1].toLowerCase()?r=1e9:"M"==t[1]||"Mohm"==t[1]||"MOhm"==t[1]||"meg"==t[1].toLowerCase()?r=1e6:"m"==t[1]||"mohm"==t[1]||"mOhm"==t[1]?r=.001:"u"==t[1].toLowerCase()||"uohm"==t[1].toLowerCase()?r=1e-6:"n"==t[1].toLowerCase()||"nohm"==t[1].toLowerCase()?r=1e-9:"p"!=t[1].toLowerCase()&&"pohm"!=t[1].toLowerCase()||(r=1e-12),0==r)throw"error parsing R: "+e;if(o*=r,isNaN(o)||!isFinite(o))throw"error parsing R: "+e;return o}function R_to_str(e){let t="";if(0==e||!isFinite(e)||isNaN(e))throw"error parsing R: "+e;return e>GThr||e<pThr?e.toExponential(precision)+"":(t=e<nThr?(e*=1e9,"n"):e<uThr?(e*=1e6,"u"):e<baseThr?"":e<kThr?(e/=1e3,"k"):e<MThr?(e/=1e6,"M"):(e/=1e9,"G"),float_to_string(e,precision)+t)}function str_to_t(e){var t=parse_value(e),o=t[0];let r=0;if("s"==t[1].toLowerCase()||""==t[1].toLowerCase()?r=1:"m"==t[1].toLowerCase()||"ms"==t[1].toLowerCase()?r=.001:"u"==t[1].toLowerCase()||"us"==t[1].toLowerCase()?r=1e-6:"n"==t[1].toLowerCase()||"ns"==t[1].toLowerCase()?r=1e-9:"p"!=t[1].toLowerCase()&&"ps"!=t[1].toLowerCase()||(r=1e-12),0==r)throw"error parsing t: "+e;if(o*=r,isNaN(o)||!isFinite(o))throw"error parsing t: "+e;return o}function t_to_str(e){let t="s";if(0==e||!isFinite(e)||isNaN(e))throw"error parsing t: "+e;return e<fThr||e>kThr?e.toExponential(precision)+"s":(e<pThr?(e*=1e12,t="ps"):e<nThr?(e*=1e9,t="ns"):e<uThr?(e*=1e6,t="us"):e<mThr&&(e*=1e3,t="ms"),float_to_string(e,precision)+t)}function str_to_V(e){var t=parse_value(e),o=t[0];let r=0;if("v"==t[1].toLowerCase()||""==t[1].toLowerCase()?r=1:"m"==t[1]||"mv"==t[1]||"mV"==t[1]?r=.001:"u"==t[1].toLowerCase()||"uv"==t[1].toLowerCase()?r=1e-6:"n"==t[1].toLowerCase()||"nv"==t[1].toLowerCase()?r=1e-9:"p"==t[1].toLowerCase()||"pv"==t[1].toLowerCase()?r=1e-12:"f"==t[1].toLowerCase()||"fv"==t[1].toLowerCase()?r=1e-15:"k"==t[1].toLowerCase()||"kv"==t[1].toLowerCase()?r=1e3:"M"!=t[1]&&"Mv"!=t[1]&&"MV"!=t[1]||(r=1e6),0==r)throw"error parsing V: "+e;if(o*=r,isNaN(o)||!isFinite(o))throw"error parsing V: "+e;return o}function V_to_str(e){let t="V";if(0==e||!isFinite(e)||isNaN(e))throw"error parsing V: "+e;return e<1e-15||e>MThr?e.toExponential(precision)+"V":(t=e<fThr?(e*=1e15,"fV"):e<pThr?(e*=1e12,"pV"):e<nThr?(e*=1e9,"nV"):e<uThr?(e*=1e6,"uV"):e<mThr?(e*=1e3,"mV"):e<baseThr?"V":e<1e6?(e/=1e3,"kV"):(e/=1e6,"MV"),float_to_string(e,precision)+t)}function str_to_I(e){var t=parse_value(e),o=t[0];let r=0;if("a"==t[1].toLowerCase()||""==t[1].toLowerCase()?r=1:"m"==t[1].toLowerCase()||"ma"==t[1].toLowerCase()?r=.001:"u"==t[1].toLowerCase()||"ua"==t[1].toLowerCase()?r=1e-6:"n"==t[1].toLowerCase()||"na"==t[1].toLowerCase()?r=1e-9:"p"==t[1].toLowerCase()||"pa"==t[1].toLowerCase()?r=1e-12:"f"==t[1].toLowerCase()||"fa"==t[1].toLowerCase()?r=1e-15:"k"!=t[1].toLowerCase()&&"ka"!=t[1].toLowerCase()||(r=1e3),0==r)throw"error parsing I: "+e;if(o*=r,isNaN(o)||!isFinite(o))throw"error parsing I: "+e;return o}function I_to_str(e){let t="A";if(0==e||!isFinite(e)||isNaN(e))throw"error parsing I: "+e;return e<1e-15||e>MThr?e.toExponential(precision)+"A":(t=e<fThr?(e*=1e15,"fA"):e<pThr?(e*=1e12,"pA"):e<nThr?(e*=1e9,"nA"):e<uThr?(e*=1e6,"uA"):e<mThr?(e*=1e3,"mA"):e<baseThr?"A":e<kThr?(e/=1e3,"kA"):(e/=1e6,"MA"),float_to_string(e,precision)+t)}function str_to_P(e){var t=parse_value(e),o=t[0];let r=0;if("w"==t[1].toLowerCase()||""==t[1].toLowerCase()?r=1:"m"==t[1]||"mw"==t[1]||"mW"==t[1]?r=.001:"u"==t[1].toLowerCase()||"uw"==t[1].toLowerCase()?r=1e-6:"n"==t[1].toLowerCase()||"nw"==t[1].toLowerCase()?r=1e-9:"p"==t[1].toLowerCase()||"pw"==t[1].toLowerCase()?r=1e-12:"k"==t[1].toLowerCase()||"kw"==t[1].toLowerCase()?r=1e3:"M"!=t[1]&&"MW"!=t[1]&&"Mw"!=t[1]||(r=1e6),0==r)throw"error parsing P: "+e;if(o*=r,isNaN(o)||!isFinite(o))throw"error parsing P: "+e;return o}function P_to_str(e){let t="W";if(0==e||!isFinite(e)||isNaN(e))throw"error parsing P: "+e;return e<fThr||e>MThr?e.toExponential(precision)+"W":(t=e<pThr?(e*=1e12,"pW"):e<nThr?(e*=1e9,"nW"):e<uThr?(e*=1e6,"uW"):e<mThr?(e*=1e3,"mW"):e<baseThr?"W":e<kThr?(e/=1e3,"kW"):(e/=1e6,"MW"),float_to_string(e,precision)+t)}function str_to_len(e){var t=parse_value(e);let o=t[0],r=0;if("m"==t[1].toLowerCase()||""==t[1].toLowerCase()?r=1:"in"==t[1].toLowerCase()?(r=1,o*=.0254):"ft"==t[1].toLowerCase()||"f"==t[1].toLowerCase()||"foot"==t[1].toLowerCase()||"feet"==t[1].toLowerCase()?(r=1,o*=.3048):"mi"==t[1].toLowerCase()||"mile"==t[1].toLowerCase()||"miles"==t[1].toLowerCase()||"mil"==t[1].toLowerCase()?(r=1,o*=1609.34):"cm"==t[1].toLowerCase()?r=.01:"mm"==t[1].toLowerCase()?r=.001:"u"==t[1].toLowerCase()||"um"==t[1].toLowerCase()?r=1e-6:"n"==t[1].toLowerCase()||"nm"==t[1].toLowerCase()?r=1e-9:"k"!=t[1].toLowerCase()&&"km"!=t[1].toLowerCase()||(r=1e3),0==r)throw"error parsing length: "+e;if(o*=r,isNaN(o)||!isFinite(o))throw"error parsing length: "+e;return o}function len_to_str(e){let t="m";if(0==e||!isFinite(e)||isNaN(e))throw"error parsing len: "+e;return e<1e-9||1e9<e?e.toExponential(precision)+"m":(e<1e-6?(e*=1e9,t="nm"):e<.001?(e*=1e6,t="um"):e<.01?(e*=1e3,t="mm"):e<1?(e*=100,t="cm"):e<1e3?t="m":(t="km",e/=1e3),float_to_string(e,precision)+t)}function ohms_law(){var l=document.getElementById("form-ohm-V").value,m=document.getElementById("form-ohm-R").value,a=document.getElementById("form-ohm-I").value,d=document.getElementById("form-ohm-P").value;try{let e=0,t=0,o=0,r=0,n=0;0<l.length&&(e=str_to_V(l),++n),0<m.length&&(t=str_to_R(m),++n),0<a.length&&(o=str_to_I(a),++n),0<d.length&&(r=str_to_P(d),++n),2==n?0!=e&&0!=t?(a=I_to_str(o=e/t),d=P_to_str(r=o*e),document.getElementById("form-ohm-I").value=a,document.getElementById("form-ohm-P").value=d):0!=e&&0!=o?(m=R_to_str(t=e/o),document.getElementById("form-ohm-R").value=m,d=P_to_str(r=e*o),document.getElementById("form-ohm-P").value=d):0!=o&&0!=t?(l=V_to_str(e=o*t),document.getElementById("form-ohm-V").value=l,d=P_to_str(r=e*o),document.getElementById("form-ohm-P").value=d):0!=r&&0!=t?(l=V_to_str(e=Math.sqrt(r*t)),document.getElementById("form-ohm-V").value=l,a=I_to_str(o=e/t),document.getElementById("form-ohm-I").value=a):0!=r&&0!=o?(l=V_to_str(e=r/o),document.getElementById("form-ohm-V").value=l,m=R_to_str(t=e/o),document.getElementById("form-ohm-R").value=m):0!=r&&0!=e&&(m=R_to_str(t=e*e/r),document.getElementById("form-ohm-R").value=m,a=I_to_str(o=e/t),document.getElementById("form-ohm-I").value=a):reportError("wrong number of input fields")}catch(e){reportError(e)}}function calc_Xl(){var n=document.getElementById("form-Xl-L").value,l=document.getElementById("form-Xl-freq").value,m=document.getElementById("form-Xl-Xl").value;try{let e=0,t=0,o=0,r=0;if(0<n.length&&(e=str_to_L(n),++r),0<l.length&&(t=str_to_freq(l),++r),0<m.length&&(o=str_to_R(m),++r),2!=r)throw"wrong number of parameters";0!=e&&0!=t?(m=R_to_str(o=2*Math.PI*t*e),document.getElementById("form-Xl-Xl").value=m):0!=e&&0!=o?(l=freq_to_str(t=o/(2*Math.PI*e)),document.getElementById("form-Xl-freq").value=l):(n=L_to_str(e=o/(2*Math.PI*t)),document.getElementById("form-Xl-L").value=n)}catch(e){reportError(e)}}function calc_Xc(){var n=document.getElementById("form-Xc-C").value,l=document.getElementById("form-Xc-freq").value,m=document.getElementById("form-Xc-Xc").value;try{let e=0,t=0,o=0,r=0;if(0<n.length&&(e=str_to_C(n),++r),0<l.length&&(t=str_to_freq(l),++r),0<m.length&&(o=str_to_R(m),++r),2!=r)throw"wrong number of parameters";0!=e&&0!=t?(m=R_to_str(o=1/(2*Math.PI*t*e)),document.getElementById("form-Xc-Xc").value=m):0!=e&&0!=o?(l=freq_to_str(t=1/(2*Math.PI*o*e)),document.getElementById("form-Xc-freq").value=l):(n=C_to_str(e=1/(2*Math.PI*t*o)),document.getElementById("form-Xc-C").value=n)}catch(e){reportError(e)}}function RC_calc_freq(e){var e=1/(2*Math.PI*e),t=freq_to_str(e);return document.getElementById("form-RC-freq").value=t,e}function RC_calc_t(e,t){e*=t,t=t_to_str(e);return document.getElementById("form-RC-t").value=t,e}function RC_calc_C(e,t){e=1/(2*Math.PI*e*t),t=C_to_str(e);return document.getElementById("form-RC-C").value=t,e}function RC_calc_R(e,t){e=1/(2*Math.PI*e*t),t=R_to_str(e);return document.getElementById("form-RC-R").value=t,e}function calc_cutoff_freq(){var l=document.getElementById("form-RC-R").value,m=document.getElementById("form-RC-C").value,a=document.getElementById("form-RC-freq").value,d=document.getElementById("form-RC-t").value;try{let e=0,t=0,o=0,r=0,n=0;if(0<l.length&&(e=str_to_R(l),++n),0<m.length&&(t=str_to_C(m),++n),0<a.length&&(o=str_to_freq(a),++n),0<d.length&&(r=str_to_t(d),++n),2!=n||0==t&&0==e)throw"invalid input";if(0!=e&&0!=t)RC_calc_freq(r=RC_calc_t(e,t));else if(0!=o&&0!=e)t=RC_calc_C(o,e),RC_calc_t(e,t);else if(0!=o&&0!=t)RC_calc_t(e=RC_calc_R(o,t),t);else if(0!=r&&0!=e)RC_calc_C(o=RC_calc_freq(r),e);else{if(0==r||0==t)throw"invalid input";RC_calc_R(o=RC_calc_freq(r),t)}}catch(e){reportError(e)}}function time_freq_conv(o){var r=document.getElementById("form-tf-t").value,n=document.getElementById("form-tf-f").value;try{let e=0,t=0;if(0<n.length&&(e=str_to_freq(n)),0<r.length&&(t=str_to_t(r)),"form-tf-t"==o&&0!=t?e=0:"form-tf-f"==o&&0!=e&&(t=0),0!=e&&0==t)r=t_to_str(t=1/e),document.getElementById("form-tf-t").value=r;else{if(0!=e||0==t)throw"invalid input";n=freq_to_str(e=1/t),document.getElementById("form-tf-f").value=n}}catch(e){reportError(e)}}function freq_wl_conv(o){var r=document.getElementById("form-fw-f").value,n=document.getElementById("form-fw-wl").value;try{let e=0,t=0;if(0<r.length&&(e=str_to_freq(r)),0<n.length&&(t=str_to_len(n)),"form-fw-wl"==o&&0!=t?e=0:"form-fw-f"==o&&0!=e&&(t=0),0!=e&&0==t)n=len_to_str(t=3e8/e),document.getElementById("form-fw-wl").value=n;else{if(0!=e||0==t)throw"invalid input";1<=(e=3e8/t)&&(r=freq_to_str(e),document.getElementById("form-fw-f").value=r)}}catch(e){reportError(e)}}function rlc_calc_Qs(e,t,o){o=float_to_string(2*Math.PI*o*e/t);document.getElementById("form-RLC-Qs").value=o}function rlc_calc_Qp(e,t,o){t=float_to_string(t/(2*Math.PI*o*e));document.getElementById("form-RLC-Qp").value=t}function calc_Q(e,t,o,r,n){var l;1e-15<e&&1e-15<o&&(0<t&&0==r&&0==n?(rlc_calc_Qs(e,t,o),rlc_calc_Qp(e,t,o)):0<r&&0==t&&0==n?(l=R_to_str(t=2*Math.PI*o*e/r),document.getElementById("form-RLC-R").value=l,rlc_calc_Qp(e,t,o)):0<n&&0==t&&0==r&&(l=R_to_str(t=n*(2*Math.PI*o*e)),document.getElementById("form-RLC-R").value=l,rlc_calc_Qs(e,t,o)))}function rlc_calc(){var a=document.getElementById("form-RLC-R").value;let d=document.getElementById("form-RLC-L").value,u=document.getElementById("form-RLC-C").value,s=document.getElementById("form-RLC-freq").value,c=document.getElementById("form-RLC-Qs").value,f=document.getElementById("form-RLC-Qp").value;try{let e=0,t=0,o=0,r=0,n=0,l=0,m=0;if(0<a.length&&(t=str_to_R(a),++e),0<d.length&&(o=str_to_L(d),++e),0<u.length&&(r=str_to_C(u),++e),0<s.length&&(n=str_to_freq(s),++e),0<c.length&&(l=parse_float(c),++e),0<f.length&&(m=parse_float(f),++e),2!=e&&3!=e)throw"invalid number of parameters";if(0!=o&&0!=r)0==n&&(n=1/(2*Math.PI*Math.sqrt(o*r)),s=freq_to_str(n),0<n)&&(document.getElementById("form-RLC-freq").value=s,calc_Q(o,t,n,l,m));else if(0!=r&&0!=n)o=1/(r*Math.pow(2*Math.PI*n,2)),d=L_to_str(o),document.getElementById("form-RLC-L").value=d,calc_Q(o,t,n,l,m);else if(0!=o&&0!=n)r=1/(o*Math.pow(2*Math.PI*n,2)),u=C_to_str(r),document.getElementById("form-RLC-C").value=u,calc_Q(o,t,n,l,m);else{if(0<t&&0<n&&0<l)o=l*t/(2*Math.PI*n),d=L_to_str(o),document.getElementById("form-RLC-L").value=d,m=1/l,f=float_to_string(m),document.getElementById("form-RLC-Qp").value=f;else if(0<t&&0<n&&0<m)o=t/(2*m*Math.PI*n),d=L_to_str(o),document.getElementById("form-RLC-L").value=d,l=1/m,c=float_to_string(l),document.getElementById("form-RLC-Qs").value=c;else if(0<t&&0<o&&0<l)n=l*t/(2*Math.PI*o),s=freq_to_str(n),document.getElementById("form-RLC-freq").value=s,m=1/l,f=float_to_string(m),document.getElementById("form-RLC-Qp").value=f;else{if(!(0<t&&0<o&&0<m))throw"invalid input";n=t/(2*Math.PI*o*m),s=freq_to_str(n),document.getElementById("form-RLC-freq").value=s,l=1/m,c=float_to_string(l),document.getElementById("form-RLC-Qs").value=c}r=1/(o*Math.pow(2*Math.PI*n,2)),u=C_to_str(r),document.getElementById("form-RLC-C").value=u}}catch(e){reportError(e)}}function dbm_calc(e){let t=document.getElementById("form-dbm-P").value,o=document.getElementById("form-dbm-dbm").value,r=document.getElementById("form-dbm-Vrms").value,n=document.getElementById("form-dbm-Vpk").value,l=document.getElementById("form-dbm-Vpp").value,m=0,a=0,d=0,u=0,s=0,c=0;try{if(0<t.length&&(s=str_to_P(t),++m),0<o.length&&(c=parse_float(o,!0),++m),0<r.length&&(a=str_to_V(r),++m),0<n.length&&(d=str_to_V(n),++m),0<l.length&&(u=str_to_V(l),++m),"form-dbm-P"==e&&0!=s?(c=a=d=u=0,m=1):"form-dbm-dbm"==e&&0!=c?(s=a=d=u=0,m=1):"form-dbm-Vrms"==e&&0!=a?(c=s=d=u=0,m=1):"form-dbm-Vpk"==e&&0!=d?(c=s=a=u=0,m=1):"form-dbm-Vpp"==e&&0!=u&&(c=s=a=d=0,m=1),1!=m)throw"invalid number of parameters";if(0<s)c=10*Math.log10(1e3*s),o=float_to_string(c),document.getElementById("form-dbm-dbm").value=o,a=Math.sqrt(50*s),r=V_to_str(a),document.getElementById("form-dbm-Vrms").value=r,d=a*Math.sqrt(2),n=V_to_str(d),document.getElementById("form-dbm-Vpk").value=n,u=2*d,l=V_to_str(u),document.getElementById("form-dbm-Vpp").value=l;else if(0!=c)s=.001*Math.pow(10,c/10),t=P_to_str(s),document.getElementById("form-dbm-P").value=t,a=Math.sqrt(50*s),r=V_to_str(a),document.getElementById("form-dbm-Vrms").value=r,d=a*Math.sqrt(2),n=V_to_str(d),document.getElementById("form-dbm-Vpk").value=n,u=2*d,l=V_to_str(u),document.getElementById("form-dbm-Vpp").value=l;else if(0<a)s=a*a/50,t=P_to_str(s),document.getElementById("form-dbm-P").value=t,c=10*Math.log10(1e3*s),o=float_to_string(c),document.getElementById("form-dbm-dbm").value=o,d=a*Math.sqrt(2),n=V_to_str(d),document.getElementById("form-dbm-Vpk").value=n,u=2*d,l=V_to_str(u),document.getElementById("form-dbm-Vpp").value=l;else if(0<d)a=d/Math.sqrt(2),r=V_to_str(a),document.getElementById("form-dbm-Vrms").value=r,s=a*a/50,t=P_to_str(s),document.getElementById("form-dbm-P").value=t,c=10*Math.log10(1e3*s),o=float_to_string(c),document.getElementById("form-dbm-dbm").value=o,u=2*d,l=V_to_str(u),document.getElementById("form-dbm-Vpp").value=l;else{if(!(0<u))throw"invalid input";d=u/2,n=V_to_str(d),document.getElementById("form-dbm-Vpk").value=n,a=d/Math.sqrt(2),r=V_to_str(a),document.getElementById("form-dbm-Vrms").value=r,s=a*a/50,t=P_to_str(s),document.getElementById("form-dbm-P").value=t,c=10*Math.log10(1e3*s),o=float_to_string(c),document.getElementById("form-dbm-dbm").value=o}}catch(e){reportError(e)}}function ripple_calc(){let e=0,t=0,o=0,r=0,n=0;try{var l=document.getElementById("form-ripple-f").value,m=document.getElementById("form-ripple-C").value,a=document.getElementById("form-ripple-I").value,d=document.getElementById("form-ripple-V").value;if(0<l.length&&(t=str_to_freq(l),++e),0<m.length&&(o=str_to_C(m),++e),0<a.length&&(r=str_to_I(a),++e),0<d.length&&(n=str_to_V(d),++e),3!=e)throw"invalid number of parameters";if(0==n)d=V_to_str(n=r/(4*t*o)),document.getElementById("form-ripple-V").value=d;else if(0==r)a=I_to_str(r=4*n*t*o),document.getElementById("form-ripple-I").value=a;else if(0==o)m=C_to_str(o=r/(4*t*n)),document.getElementById("form-ripple-C").value=m;else{if(0!=t)throw"invalid parameters";l=freq_to_str(t=r/(4*o*n)),document.getElementById("form-ripple-f").value=l}}catch(e){reportError(e)}}function headphone_calc(){let n=0,l=0,m=0,a=0,d=0,u=0,s=0,c=0;try{var f=document.getElementById("form-headphone-sensitivity-dbmw").value,i=document.getElementById("form-headphone-sensitivity-dbv").value;let e=document.getElementById("form-headphone-I").value,t=document.getElementById("form-headphone-R").value,o=document.getElementById("form-headphone-V").value,r=document.getElementById("form-headphone-P").value;var _=document.getElementById("form-headphone-loudness").value;if(0<f.length&&(n=Number.parseFloat(f)),0<i.length&&(l=Number.parseFloat(i)),0<e.length&&(a=str_to_I(e),++c),0<o.length&&(d=str_to_V(o),++c),0<r.length&&(u=str_to_P(r),++c),0<t.length&&(m=str_to_R(t),++c),0<_.length&&(s=Number.parseFloat(_)),0!=n&&0!=m?(l=n-10*Math.log10(m/1e3),document.getElementById("form-headphone-sensitivity-dbv").value=float_to_string(l,3)):0!=l&&0!=m&&(n=l+10*Math.log10(m/1e3),document.getElementById("form-headphone-sensitivity-dbmw").value=float_to_string(n,3)),0!=s&&0==u&&0!=n&&0!=m&&(u=Math.pow(10,(s-n)/10)/1e3,r=P_to_str(u),document.getElementById("form-headphone-P").value=r,++c),2!=c)throw"invalid number of parameters";if(0!=d&&0!=m)a=d/m,e=I_to_str(a),document.getElementById("form-headphone-I").value=e,u=a*d,r=P_to_str(u),document.getElementById("form-headphone-P").value=r;else if(0!=d&&0!=a)m=d/a,t=R_to_str(m),document.getElementById("form-headphone-R").value=t,u=d*a,r=P_to_str(u),document.getElementById("form-headphone-P").value=r;else if(0!=a&&0!=m)d=a*m,o=V_to_str(d),document.getElementById("form-headphone-V").value=o,u=d*a,r=P_to_str(u),document.getElementById("form-headphone-P").value=r;else if(0!=u&&0!=m)d=Math.sqrt(u*m),o=V_to_str(d),document.getElementById("form-headphone-V").value=o,a=d/m,e=I_to_str(a),document.getElementById("form-headphone-I").value=e;else if(0!=u&&0!=a)d=u/a,o=V_to_str(d),document.getElementById("form-headphone-V").value=o,m=d/a,t=R_to_str(m),document.getElementById("form-headphone-R").value=t;else{if(0==u||0==d)throw"invalid parameters";m=d*d/u,t=R_to_str(m),document.getElementById("form-headphone-R").value=t,a=d/m,e=I_to_str(a),document.getElementById("form-headphone-I").value=e}0==s&&0!=u&&0!=n?(_=float_to_string(s=n+10*Math.log10(1e3*u),3),document.getElementById("form-headphone-loudness").value=_):0!=u&&0==n&&0==l&&0!=s&&(float_to_string(n=s-10*Math.log10(1e3*u),3),document.getElementById("form-headphone-sensitivity-dbmw").value=float_to_string(n,3),l=n-10*Math.log10(m/1e3),document.getElementById("form-headphone-sensitivity-dbv").value=float_to_string(l,3))}catch(e){reportError(e)}}function sound_calc(t){let o=0,r=0,n=0,l=0;try{let e=document.getElementById("form-sound-db").value;var m=document.getElementById("form-sound-V").value,a=document.getElementById("form-sound-P").value,d=document.getElementById("form-sound-L").value;0<e.length&&(1e3<(o=parse_float(e,!0))?(o=1e3,document.getElementById("form-sound-db").value="1000"):o<-1e3&&(o=-1e3,document.getElementById("form-sound-db").value="1000")),0<m.length&&(r=parse_float(m)),0<a.length&&(n=parse_float(a)),0<d.length&&(l=parse_float(d)),"form-sound-L-db"==t&&0<e.length?r=n=l=0:"form-sound-V"==t&&0<r?(n=l=0,e=""):"form-sound-P"==t&&0<n?(r=l=0,e=""):"form-sound-L"==t&&0<l&&(r=n=0,e="");if(0<e.length)r=Math.pow(10,o/20),document.getElementById("form-sound-V").value=float_to_string(r,3),n=Math.pow(10,o/10),document.getElementById("form-sound-P").value=float_to_string(n,3),l=Math.pow(2,o/10),document.getElementById("form-sound-L").value=float_to_string(l,3);else if(0<r)o=20*Math.log10(r),e=float_to_string(o,3),document.getElementById("form-sound-db").value=e,n=Math.pow(10,o/10),document.getElementById("form-sound-P").value=float_to_string(n,3),l=Math.pow(2,o/10),document.getElementById("form-sound-L").value=float_to_string(l,3);else if(0<n)o=10*Math.log10(n),e=float_to_string(o,3),document.getElementById("form-sound-db").value=e,r=Math.pow(10,o/20),document.getElementById("form-sound-V").value=float_to_string(r,3),l=Math.pow(2,o/10),document.getElementById("form-sound-L").value=float_to_string(l,3);else{if(!(0<l))throw"invalid parameters";o=10*Math.log2(l),e=float_to_string(o,3),document.getElementById("form-sound-db").value=e,r=Math.pow(10,o/20),document.getElementById("form-sound-V").value=float_to_string(r,3),n=Math.pow(10,o/10),document.getElementById("form-sound-P").value=float_to_string(n,3)}}catch(e){reportError(e)}}function tl_calc_t_VF(e,t,o){t=Math.sqrt(t*e),e=t_to_str(t*o);document.getElementById("form-tl-t").value=e,VF=100/(Vc*t),document.getElementById("form-tl-VF").value=float_to_string(VF,3)}function tl_calc(e){let n=0,l=0,m=0,a=0,d=1,u=0;try{var s=document.getElementById("form-tl-Zo").value;let t=document.getElementById("form-tl-C").value,o=document.getElementById("form-tl-L").value,r=document.getElementById("form-tl-t").value;var c=document.getElementById("form-tl-VF").value;let e=document.getElementById("form-tl-len").value;0<s.length&&(n=str_to_R(s)),0<t.length&&(m=str_to_C(t)),0<o.length&&(a=str_to_L(o)),0<r.length&&(l=str_to_t(r)),0<c.length&&(u=parse_float(c)),0<e.length?d=str_to_len(e):(d=1,document.getElementById("form-tl-len").value="1m"),0==n&&(n=tc_default_Zo,document.getElementById("form-tl-Zo").value=R_to_str(n)),tc_default_Zo=n;var f,i=1/(Vc*n),_=n/Vc;if(0!=m){m<i&&(m=i,t=C_to_str(m),document.getElementById("form-tl-C").value=t);var g,h=n*n*m,y=L_to_str(h);document.getElementById("form-tl-L").value=y,0==l?tl_calc_t_VF(m,h,d):(g=Math.sqrt(h*m),d=l/g,e=len_to_str(d),document.getElementById("form-tl-len").value=e,u=100/(Vc*g),document.getElementById("form-tl-VF").value=float_to_string(u,3))}else if(0!=a)a<_&&(a=_,o=L_to_str(a),document.getElementById("form-tl-L").value=o),m=a/n/n,t=C_to_str(m),document.getElementById("form-tl-C").value=t,0==l?tl_calc_t_VF(m,a,d):(f=Math.sqrt(a*m),d=l/f,e=len_to_str(d),document.getElementById("form-tl-len").value=e,u=100/(Vc*f),document.getElementById("form-tl-VF").value=float_to_string(u,3));else if(0<u){100<u&&(u=100,document.getElementById("form-tl-VF").value="100");var v=100/(u*Vc);0==l?(l=v*d,r=t_to_str(l),document.getElementById("form-tl-t").value=r):(d=l/v,e=len_to_str(d),document.getElementById("form-tl-len").value=e),m=v/n,a=v*n,t=C_to_str(m),o=L_to_str(a),document.getElementById("form-tl-C").value=t,document.getElementById("form-tl-L").value=o}else{if(!(0<l))throw"invalid parameters";{let e=l/d;e<1/Vc&&(e=1/Vc,l=e*d),r=t_to_str(l),document.getElementById("form-tl-t").value=r,u=100/(Vc*e),document.getElementById("form-tl-VF").value=float_to_string(u,3),m=e/n,a=e*n,t=C_to_str(m),o=L_to_str(a),document.getElementById("form-tl-C").value=t,document.getElementById("form-tl-L").value=o}}}catch(e){reportError(e)}}function vdiv_calc(){}